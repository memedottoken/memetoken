import{c as W}from"./index-DIGSHX2e.js";import{aj as E,R as L,u as b,a0 as T,ae as j,al as C,r as g,J as I,X as M,O as y,D as R}from"./vue-i18n-locales.generated-DazkPcQT.js";function S(e){return E()?(L(e),!0):!1}function d(e){return typeof e=="function"?e():b(e)}const A=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const _=Object.prototype.toString,x=e=>_.call(e)==="[object Object]",O=()=>{},h=P();function P(){var e,t;return A&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function U(...e){if(e.length!==1)return T(...e);const t=e[0];return typeof t=="function"?j(C(()=>({get:t,set:O}))):g(t)}const X=A?window:void 0;function Y(e){var t;const n=d(e);return(t=n==null?void 0:n.$el)!=null?t:n}function G(...e){let t,n,o,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,l]=e,t=X):[t,n,o,l]=e,!t)return O;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const s=[],c=()=>{s.forEach(u=>u()),s.length=0},r=(u,f,v,p)=>(u.addEventListener(f,v,p),()=>u.removeEventListener(f,v,p)),a=y(()=>[Y(t),d(l)],([u,f])=>{if(c(),!u)return;const v=x(f)?{...f}:f;s.push(...n.flatMap(p=>o.map(D=>r(u,p,D,v))))},{immediate:!0,flush:"post"}),i=()=>{a(),c()};return S(i),i}function w(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}function k(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:k(n)}}function H(e){const t=e||window.event,n=t.target;return k(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const m=new WeakMap;function N(e,t=!1){const n=g(t);let o=null,l="";y(U(e),r=>{const a=w(d(r));if(a){const i=a;if(m.get(i)||m.set(i,i.style.overflow),i.style.overflow!=="hidden"&&(l=i.style.overflow),i.style.overflow==="hidden")return n.value=!0;if(n.value)return i.style.overflow="hidden"}},{immediate:!0});const s=()=>{const r=w(d(e));!r||n.value||(h&&(o=G(r,"touchmove",a=>{H(a)},{passive:!1})),r.style.overflow="hidden",n.value=!0)},c=()=>{const r=w(d(e));!r||!n.value||(h&&(o==null||o()),r.style.overflow=l,m.delete(r),n.value=!1)};return S(c),R({get(){return n.value},set(r){r?s():c()}})}function $(){let e=!1;const t=g(!1);return(n,o)=>{if(t.value=o.value,e)return;e=!0;const l=N(n,o.value);y(t,s=>l.value=s)}}$();const J=I({name:"UseTimeAgo",props:["time","updateInterval","max","fullDateFormatter","messages","showSecond"],setup(e,{slots:t}){const n=M(W(()=>e.time,{...e,controls:!0}));return()=>{if(t.default)return t.default(n)}}});export{J as U};
