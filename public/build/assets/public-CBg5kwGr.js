import{af as oe,ag as Y,ah as Pe,ai as Se,aj as $,ak as G,l as V,d as B,N as ie,k as ce,n as ue,p as fe,Z as j,al as Ae,o as A,am as L,an as O,ao as de,ap as le,aq as pe,ar as U,as as Z,at as H,I as ge,r as W,au as qe,av as Re,aw as Me,Y as ye,ax as ee,ac as _e,ay as Le,az as me,aA as $e,aB as He,aC as R,aD as ze,g as Ge,e as Ve,O as je,Q as Oe,V as Ue,aE as Ze,aF as We,aG as Je,aH as Ke,aI as Qe,aJ as Xe,m as Ye,i as et,s as tt,X as at,aK as nt,W as st}from"./sepolia-CvxlrZeJ.js";import{B as M,k as N,x as rt,n as I,j as q,b as J,l as be,G as he,p as ot,q as it,F as z,s as te,O as we,av as ct,u as ut,o as ve,c as ae,M as ft,aw as dt,g as lt}from"./blast-BTKMzCxo.js";import{secp256k1 as pt}from"./secp256k1-DxfVsibD.js";class gt extends M{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const ne="/docs/contract/encodeEventTopics";function _(e){var f;const{abi:t,eventName:a,args:n}=e;let s=t[0];if(a){const d=oe({abi:t,name:a});if(!d)throw new Y(a,{docsPath:ne});s=d}if(s.type!=="event")throw new Y(void 0,{docsPath:ne});const r=Pe(s),o=Se(r);let c=[];if(n&&"inputs"in s){const d=(f=s.inputs)==null?void 0:f.filter(i=>"indexed"in i&&i.indexed),u=Array.isArray(n)?n:Object.values(n).length>0?(d==null?void 0:d.map(i=>n[i.name]))??[]:[];u.length>0&&(c=(d==null?void 0:d.map((i,l)=>Array.isArray(u[l])?u[l].map((m,E)=>se({param:i,value:u[l][E]})):u[l]?se({param:i,value:u[l]}):null))??[])}return[o,...c]}function se({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return N(rt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new gt(e.type);return $([e],[t])}async function Ee(e,t){const{address:a,abi:n,args:s,eventName:r,fromBlock:o,strict:c,toBlock:f}=t,d=G(e,{method:"eth_newFilter"}),u=r?_({abi:n,args:s,eventName:r}):void 0,i=await e.request({method:"eth_newFilter",params:[{address:a,fromBlock:typeof o=="bigint"?I(o):o,toBlock:typeof f=="bigint"?I(f):f,topics:u}]});return{abi:n,args:s,eventName:r,id:i,request:d(i),strict:!!c,type:"event"}}async function yt(e,t){const{abi:a,address:n,args:s,functionName:r,...o}=t,c=V({abi:a,args:s,functionName:r});try{return await B(e,ie,"estimateGas")({data:c,to:n,...o})}catch(f){const d=o.account?ce(o.account):void 0;throw ue(f,{abi:a,address:n,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:r,sender:d==null?void 0:d.address})}}async function K(e,{address:t,blockHash:a,fromBlock:n,toBlock:s,event:r,events:o,args:c,strict:f}={}){const d=f??!1,u=o??(r?[r]:void 0);let i=[];u&&(i=[u.flatMap(T=>_({abi:[T],eventName:T.name,args:o?void 0:c}))],r&&(i=i[0]));let l;a?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:i,blockHash:a}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:i,fromBlock:typeof n=="bigint"?I(n):n,toBlock:typeof s=="bigint"?I(s):s}]});const m=l.map(E=>q(E));return u?fe({abi:u,args:c,logs:m,strict:d}):m}async function xe(e,t){const{abi:a,address:n,args:s,blockHash:r,eventName:o,fromBlock:c,toBlock:f,strict:d}=t,u=o?oe({abi:a,name:o}):void 0,i=u?void 0:a.filter(l=>l.type==="event");return B(e,K,"getLogs")({address:n,args:s,blockHash:r,event:u,events:i,fromBlock:c,toBlock:f,strict:d})}async function mt(e,t){const{abi:a,address:n,args:s,dataSuffix:r,functionName:o,...c}=t,f=c.account?ce(c.account):e.account,d=V({abi:a,args:s,functionName:o});try{const{data:u}=await B(e,j,"call")({batch:!1,data:`${d}${r?r.replace("0x",""):""}`,to:n,...c,account:f}),i=Ae({abi:a,args:s,functionName:o,data:u||"0x"}),l=a.filter(m=>"name"in m&&m.name===t.functionName);return{result:i,request:{abi:l,address:n,args:s,dataSuffix:r,functionName:o,...c,account:f}}}catch(u){throw ue(u,{abi:a,address:n,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:f==null?void 0:f.address})}}function bt(e,t){const{abi:a,address:n,args:s,batch:r=!0,eventName:o,fromBlock:c,onError:f,onLogs:d,poll:u,pollingInterval:i=e.pollingInterval,strict:l}=t;return(typeof u<"u"?u:typeof c=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))?(()=>{const w=l??!1,p=A(["watchContractEvent",n,s,r,e.uid,o,i,w,c]);return L(p,{onLogs:d,onError:f},b=>{let g;c!==void 0&&(g=c-1n);let y,F=!1;const k=O(async()=>{var v;if(!F){try{y=await B(e,Ee,"createContractEventFilter")({abi:a,address:n,args:s,eventName:o,strict:w,fromBlock:c})}catch{}F=!0;return}try{let h;if(y)h=await B(e,Z,"getFilterChanges")({filter:y});else{const x=await B(e,H,"getBlockNumber")({});g&&g<x?h=await B(e,xe,"getContractEvents")({abi:a,address:n,args:s,eventName:o,fromBlock:g+1n,toBlock:x,strict:w}):h=[],g=x}if(h.length===0)return;if(r)b.onLogs(h);else for(const x of h)b.onLogs([x])}catch(h){y&&h instanceof ge&&(F=!1),(v=b.onError)==null||v.call(b,h)}},{emitOnBegin:!0,interval:i});return async()=>{y&&await B(e,U,"uninstallFilter")({filter:y}),k()}})})():(()=>{const w=l??!1,p=A(["watchContractEvent",n,s,r,e.uid,o,i,w]);let b=!0,g=()=>b=!1;return L(p,{onLogs:d,onError:f},y=>((async()=>{try{const F=(()=>{if(e.transport.type==="fallback"){const h=e.transport.transports.find(x=>x.config.type==="webSocket");return h?h.value:e.transport}return e.transport})(),k=o?_({abi:a,eventName:o,args:s}):[],{unsubscribe:v}=await F.subscribe({params:["logs",{address:n,topics:k}],onData(h){var D;if(!b)return;const x=h.result;try{const{eventName:C,args:S}=de({abi:a,data:x.data,topics:x.topics,strict:l}),P=q(x,{args:S,eventName:C});y.onLogs([P])}catch(C){let S,P;if(C instanceof le||C instanceof pe){if(l)return;S=C.abiItem.name,P=(D=C.abiItem.inputs)==null?void 0:D.some(X=>!("name"in X&&X.name))}const De=q(x,{args:P?[]:{},eventName:S});y.onLogs([De])}},onError(h){var x;(x=y.onError)==null||x.call(y,h)}});g=v,b||g()}catch(F){f==null||f(F)}})(),()=>g()))})()}class ht extends M{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function wt(e,t){const{address:a,factory:n,factoryData:s}=t;try{const[r,o,c,f,d,u,i]=await B(e,W,"readContract")({abi:vt,address:a,functionName:"eip712Domain",factory:n,factoryData:s});return{domain:{name:o,version:c,chainId:Number(f),verifyingContract:d,salt:u},extensions:i,fields:r}}catch(r){const o=r;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new ht({address:a}):o}}const vt=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function Et(e,{blockNumber:t,blockTag:a,name:n,universalResolverAddress:s}){let r=s;if(!r){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");r=qe({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await B(e,W,"readContract")({address:r,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[J(Re(n))],blockNumber:t,blockTag:a});return o}async function xt(e){const t=G(e,{method:"eth_newBlockFilter"}),a=await e.request({method:"eth_newBlockFilter"});return{id:a,request:t(a),type:"block"}}async function Be(e,{address:t,args:a,event:n,events:s,fromBlock:r,strict:o,toBlock:c}={}){const f=s??(n?[n]:void 0),d=G(e,{method:"eth_newFilter"});let u=[];f&&(u=[f.flatMap(m=>_({abi:[m],eventName:m.name,args:a}))],n&&(u=u[0]));const i=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof r=="bigint"?I(r):r,toBlock:typeof c=="bigint"?I(c):c,...u.length?{topics:u}:{}}]});return{abi:f,args:a,eventName:n?n.name:void 0,fromBlock:r,id:i,request:d(i),strict:!!o,toBlock:c,type:"event"}}async function Bt(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function Tt(e,{blockHash:t,blockNumber:a,blockTag:n="latest"}={}){const s=a!==void 0?I(a):void 0;let r;return t?r=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):r=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||n]},{dedupe:!!s}),be(r)}async function re(e,{address:t,blockNumber:a,blockTag:n="latest"}){const s=a!==void 0?I(a):void 0,r=await e.request({method:"eth_getCode",params:[t,s||n]},{dedupe:!!s});if(r!=="0x")return r}function kt(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(a=>BigInt(a)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(a=>a.map(n=>BigInt(n)))}}async function It(e,{blockCount:t,blockNumber:a,blockTag:n="latest",rewardPercentiles:s}){const r=a?I(a):void 0,o=await e.request({method:"eth_feeHistory",params:[I(t),r||n,s]},{dedupe:!!r});return kt(o)}async function Ft(e,{filter:t}){const a=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(r=>q(r));return t.abi?fe({abi:t.abi,logs:s,strict:a}):s}const Ct=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Nt=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;class Dt extends M{constructor({domain:t}){super(`Invalid domain "${A(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Pt extends M{constructor({primaryType:t,types:a}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(a))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class St extends M{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function At(e){const{domain:t={},message:a,primaryType:n}=e,s={EIP712Domain:Lt({domain:t}),...e.types};_t({domain:t,message:a,primaryType:n,types:s});const r=["0x1901"];return t&&r.push(qt({domain:t,types:s})),n!=="EIP712Domain"&&r.push(Te({data:a,primaryType:n,types:s})),N(he(r))}function qt({domain:e,types:t}){return Te({data:e,primaryType:"EIP712Domain",types:t})}function Te({data:e,primaryType:t,types:a}){const n=ke({data:e,primaryType:t,types:a});return N(n)}function ke({data:e,primaryType:t,types:a}){const n=[{type:"bytes32"}],s=[Rt({primaryType:t,types:a})];for(const r of a[t]){const[o,c]=Fe({types:a,name:r.name,type:r.type,value:e[r.name]});n.push(o),s.push(c)}return $(n,s)}function Rt({primaryType:e,types:t}){const a=J(Mt({primaryType:e,types:t}));return N(a)}function Mt({primaryType:e,types:t}){let a="";const n=Ie({primaryType:e,types:t});n.delete(e);const s=[e,...Array.from(n).sort()];for(const r of s)a+=`${r}(${t[r].map(({name:o,type:c})=>`${c} ${o}`).join(",")})`;return a}function Ie({primaryType:e,types:t},a=new Set){const n=e.match(/^\w*/u),s=n==null?void 0:n[0];if(a.has(s)||t[s]===void 0)return a;a.add(s);for(const r of t[s])Ie({primaryType:r.type,types:t},a);return a}function Fe({types:e,name:t,type:a,value:n}){if(e[a]!==void 0)return[{type:"bytes32"},N(ke({data:n,primaryType:a,types:e}))];if(a==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},N(n)];if(a==="string")return[{type:"bytes32"},N(J(n))];if(a.lastIndexOf("]")===a.length-1){const s=a.slice(0,a.lastIndexOf("[")),r=n.map(o=>Fe({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},N($(r.map(([o])=>o),r.map(([,o])=>o)))]}return[{type:a},n]}function ca(e){const{domain:t,message:a,primaryType:n,types:s}=e,r=(f,d)=>{const u={...d};for(const i of f){const{name:l,type:m}=i;m==="address"&&(u[l]=u[l].toLowerCase())}return u},o=s.EIP712Domain?t?r(s.EIP712Domain,t):{}:{},c=(()=>{if(n!=="EIP712Domain")return r(s[n],a)})();return A({domain:o,message:c,primaryType:n,types:s})}function _t(e){const{domain:t,message:a,primaryType:n,types:s}=e,r=(o,c)=>{for(const f of o){const{name:d,type:u}=f,i=c[d],l=u.match(Nt);if(l&&(typeof i=="number"||typeof i=="bigint")){const[T,w,p]=l;I(i,{signed:w==="int",size:Number.parseInt(p)/8})}if(u==="address"&&typeof i=="string"&&!ot(i))throw new it({address:i});const m=u.match(Ct);if(m){const[T,w]=m;if(w&&z(i)!==Number.parseInt(w))throw new Me({expectedSize:Number.parseInt(w),givenSize:z(i)})}const E=s[u];E&&($t(u),r(E,i))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Dt({domain:t});r(s.EIP712Domain,t)}if(n!=="EIP712Domain")if(s[n])r(s[n],a);else throw new Pt({primaryType:n,types:s})}function Lt({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function $t(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new St({type:e})}const Ht=`Ethereum Signed Message:
`;function zt(e){const t=typeof e=="string"?te(e):typeof e.raw=="string"?e.raw:we(e.raw),a=te(`${Ht}${z(t)}`);return he([a,t])}function Ce(e,t){return N(zt(e),t)}const Ne="0x6492649264926492649264926492649264926492649264926492649264926492";function Gt(e){return ct(e,-32)===Ne}function Vt(e){const{address:t,data:a,signature:n,to:s="hex"}=e,r=ut([$([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,a,n]),Ne]);return s==="hex"?r:ve(r)}function jt(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Ot(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?be(e.nonce):void 0,storageProof:e.storageProof?jt(e.storageProof):void 0}}async function Ut(e,{address:t,blockNumber:a,blockTag:n,storageKeys:s}){const r=n??"latest",o=a!==void 0?I(a):void 0,c=await e.request({method:"eth_getProof",params:[t,s,o||r]});return Ot(c)}async function Zt(e,{address:t,blockNumber:a,blockTag:n="latest",slot:s}){const r=a!==void 0?I(a):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,r||n]})}async function Wt(e,{hash:t,transactionReceipt:a}){const[n,s]=await Promise.all([B(e,H,"getBlockNumber")({}),t?B(e,ye,"getTransaction")({hash:t}):void 0]),r=(a==null?void 0:a.blockNumber)||(s==null?void 0:s.blockNumber);return r?n-r+1n:0n}function Jt({r:e,s:t,to:a="hex",v:n,yParity:s}){const r=(()=>{if(s===0||s===1)return s;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new pt.Signature(ae(e),ae(t)).toCompactHex()}${r===0?"1b":"1c"}`;return a==="hex"?o:ve(o)}async function Q(e,t){var i,l,m;const{address:a,factory:n,factoryData:s,hash:r,signature:o,universalSignatureVerifierAddress:c=(m=(l=(i=e.chain)==null?void 0:i.contracts)==null?void 0:l.universalSignatureVerifier)==null?void 0:m.address,...f}=t,d=ft(o)?o:typeof o=="object"&&"r"in o&&"s"in o?Jt(o):we(o),u=await(async()=>!n&&!s||Gt(d)?d:Vt({address:n,data:s,signature:d}))();try{const E=c?{to:c,data:V({abi:ee,functionName:"isValidSig",args:[a,r,u]}),...f}:{data:_e({abi:ee,args:[a,r,u],bytecode:Le}),...f},{data:T}=await B(e,j,"call")(E);return dt(T??"0x0")}catch(E){try{if(me(lt(a),await $e({hash:r,signature:o})))return!0}catch{}if(E instanceof He)return!1;throw E}}async function Kt(e,{address:t,message:a,factory:n,factoryData:s,signature:r,...o}){const c=Ce(a);return Q(e,{address:t,factory:n,factoryData:s,hash:c,signature:r,...o})}async function Qt(e,t){const{address:a,factory:n,factoryData:s,signature:r,message:o,primaryType:c,types:f,domain:d,...u}=t,i=At({message:o,primaryType:c,types:f,domain:d});return Q(e,{address:a,factory:n,factoryData:s,hash:i,signature:r,...u})}function Xt(e,{blockTag:t="latest",emitMissed:a=!1,emitOnBegin:n=!1,onBlock:s,onError:r,includeTransactions:o,poll:c,pollingInterval:f=e.pollingInterval}){const d=typeof c<"u"?c:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),u=o??!1;let i;return d?(()=>{const E=A(["watchBlocks",e.uid,t,a,n,u,f]);return L(E,{onBlock:s,onError:r},T=>O(async()=>{var w;try{const p=await B(e,R,"getBlock")({blockTag:t,includeTransactions:u});if(p.number&&(i!=null&&i.number)){if(p.number===i.number)return;if(p.number-i.number>1&&a)for(let b=(i==null?void 0:i.number)+1n;b<p.number;b++){const g=await B(e,R,"getBlock")({blockNumber:b,includeTransactions:u});T.onBlock(g,i),i=g}}(!(i!=null&&i.number)||t==="pending"&&!(p!=null&&p.number)||p.number&&p.number>i.number)&&(T.onBlock(p,i),i=p)}catch(p){(w=T.onError)==null||w.call(T,p)}},{emitOnBegin:n,interval:f}))})():(()=>{let E=!0,T=!0,w=()=>E=!1;return(async()=>{try{n&&B(e,R,"getBlock")({blockTag:t,includeTransactions:u}).then(g=>{E&&T&&(s(g,void 0),T=!1)});const p=(()=>{if(e.transport.type==="fallback"){const g=e.transport.transports.find(y=>y.config.type==="webSocket");return g?g.value:e.transport}return e.transport})(),{unsubscribe:b}=await p.subscribe({params:["newHeads"],async onData(g){if(!E)return;const y=await B(e,R,"getBlock")({blockNumber:g.blockNumber,includeTransactions:u}).catch(()=>{});E&&(s(y,i),T=!1,i=y)},onError(g){r==null||r(g)}});w=b,E||w()}catch(p){r==null||r(p)}})(),()=>w()})()}function Yt(e,{address:t,args:a,batch:n=!0,event:s,events:r,fromBlock:o,onError:c,onLogs:f,poll:d,pollingInterval:u=e.pollingInterval,strict:i}){const l=typeof d<"u"?d:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"),m=i??!1;return l?(()=>{const w=A(["watchEvent",t,a,n,e.uid,s,u,o]);return L(w,{onLogs:f,onError:c},p=>{let b;o!==void 0&&(b=o-1n);let g,y=!1;const F=O(async()=>{var k;if(!y){try{g=await B(e,Be,"createEventFilter")({address:t,args:a,event:s,events:r,strict:m,fromBlock:o})}catch{}y=!0;return}try{let v;if(g)v=await B(e,Z,"getFilterChanges")({filter:g});else{const h=await B(e,H,"getBlockNumber")({});b&&b!==h?v=await B(e,K,"getLogs")({address:t,args:a,event:s,events:r,fromBlock:b+1n,toBlock:h}):v=[],b=h}if(v.length===0)return;if(n)p.onLogs(v);else for(const h of v)p.onLogs([h])}catch(v){g&&v instanceof ge&&(y=!1),(k=p.onError)==null||k.call(p,v)}},{emitOnBegin:!0,interval:u});return async()=>{g&&await B(e,U,"uninstallFilter")({filter:g}),F()}})})():(()=>{let w=!0,p=()=>w=!1;return(async()=>{try{const b=(()=>{if(e.transport.type==="fallback"){const k=e.transport.transports.find(v=>v.config.type==="webSocket");return k?k.value:e.transport}return e.transport})(),g=r??(s?[s]:void 0);let y=[];g&&(y=[g.flatMap(v=>_({abi:[v],eventName:v.name,args:a}))],s&&(y=y[0]));const{unsubscribe:F}=await b.subscribe({params:["logs",{address:t,topics:y}],onData(k){var h;if(!w)return;const v=k.result;try{const{eventName:x,args:D}=de({abi:g??[],data:v.data,topics:v.topics,strict:m}),C=q(v,{args:D,eventName:x});f([C])}catch(x){let D,C;if(x instanceof le||x instanceof pe){if(i)return;D=x.abiItem.name,C=(h=x.abiItem.inputs)==null?void 0:h.some(P=>!("name"in P&&P.name))}const S=q(v,{args:C?[]:{},eventName:D});f([S])}},onError(k){c==null||c(k)}});p=F,w||p()}catch(b){c==null||c(b)}})(),()=>p()})()}function ea(e){var i,l,m;const{scheme:t,statement:a,...n}=((i=e.match(ta))==null?void 0:i.groups)??{},{chainId:s,expirationTime:r,issuedAt:o,notBefore:c,requestId:f,...d}=((l=e.match(aa))==null?void 0:l.groups)??{},u=(m=e.split("Resources:")[1])==null?void 0:m.split(`
- `).slice(1);return{...n,...d,...s?{chainId:Number(s)}:{},...r?{expirationTime:new Date(r)}:{},...o?{issuedAt:new Date(o)}:{},...c?{notBefore:new Date(c)}:{},...f?{requestId:f}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...a?{statement:a}:{}}}const ta=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,aa=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function na(e){const{address:t,domain:a,message:n,nonce:s,scheme:r,time:o=new Date}=e;if(a&&n.domain!==a||s&&n.nonce!==s||r&&n.scheme!==r||n.expirationTime&&o>=n.expirationTime||n.notBefore&&o<n.notBefore)return!1;try{if(!n.address||t&&!me(n.address,t))return!1}catch{return!1}return!0}async function sa(e,t){const{address:a,domain:n,message:s,nonce:r,scheme:o,signature:c,time:f=new Date,...d}=t,u=ea(s);if(!u.address||!na({address:a,domain:n,message:u,nonce:r,scheme:o,time:f}))return!1;const l=Ce(s);return Q(e,{address:u.address,hash:l,signature:c,...d})}function ua(e){return{call:t=>j(e,t),createBlockFilter:()=>xt(e),createContractEventFilter:t=>Ee(e,t),createEventFilter:t=>Be(e,t),createPendingTransactionFilter:()=>ze(e),estimateContractGas:t=>yt(e,t),estimateGas:t=>ie(e,t),getBalance:t=>Ge(e,t),getBlobBaseFee:()=>Bt(e),getBlock:t=>R(e,t),getBlockNumber:t=>H(e,t),getBlockTransactionCount:t=>Tt(e,t),getBytecode:t=>re(e,t),getChainId:()=>Ve(e),getCode:t=>re(e,t),getContractEvents:t=>xe(e,t),getEip712Domain:t=>wt(e,t),getEnsAddress:t=>je(e,t),getEnsAvatar:t=>Oe(e,t),getEnsName:t=>Ue(e,t),getEnsResolver:t=>Et(e,t),getEnsText:t=>Ze(e,t),getFeeHistory:t=>It(e,t),estimateFeesPerGas:t=>We(e,t),getFilterChanges:t=>Z(e,t),getFilterLogs:t=>Ft(e,t),getGasPrice:()=>Je(e),getLogs:t=>K(e,t),getProof:t=>Ut(e,t),estimateMaxPriorityFeePerGas:t=>Ke(e,t),getStorageAt:t=>Zt(e,t),getTransaction:t=>ye(e,t),getTransactionConfirmations:t=>Wt(e,t),getTransactionCount:t=>Qe(e,t),getTransactionReceipt:t=>Xe(e,t),multicall:t=>Ye(e,t),prepareTransactionRequest:t=>et(e,t),readContract:t=>W(e,t),sendRawTransaction:t=>tt(e,t),simulateContract:t=>mt(e,t),verifyMessage:t=>Kt(e,t),verifySiweMessage:t=>sa(e,t),verifyTypedData:t=>Qt(e,t),uninstallFilter:t=>U(e,t),waitForTransactionReceipt:t=>at(e,t),watchBlocks:t=>Xt(e,t),watchBlockNumber:t=>nt(e,t),watchContractEvent:t=>bt(e,t),watchEvent:t=>Yt(e,t),watchPendingTransactions:t=>st(e,t)}}export{Lt as g,ua as p,ca as s,_t as v};
