import{o as e,d as o,f as r,r as m,D as x,O as F,t as C,B as d,w as H,u as f,l as P,P as T,y as S,a6 as V,X as z,a7 as D,e as N}from"./vue-i18n-locales.generated-DazkPcQT.js";import{L as $}from"./Loading-C3NjX0uh.js";import{W as R}from"./WeCopy-BxL-ACh3.js";import{r as W,v as O,p as K,a as X}from"./no-image-available-icon-Bm4PwHNs.js";import{r as Z}from"./XMarkIcon-DB3lTRzz.js";function Q(n,v){return e(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"})])}function q(n,v){return e(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"})])}function G(n,v){return e(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"})])}const J={class:"flex items-center align-middle"},Y={key:0,class:"text-red-600 dark:text-red-400"},ee={class:"inline-flex items-center justify-center overflow-hidden rounded-full bottom-5 left-5"},te={class:"w-20 h-20"},oe=["stroke-dashoffset"],ae=["src"],se=["disabled"],le={key:0},re={key:1},fe={__name:"LogoInput",props:{modelValue:String,file:String,errors:String,auto:Boolean,deleteUri:String,disk:String},emits:["update:modelValue","update:file"],setup(n,{emit:v}){const i=n,h=30*2*Math.PI,a=m(null),c=m(null),g=m(0),u=m(!1),s=m(i.deleteUri),L=t=>{g.value=t/a.value.size*100},b=v,w=x({get(){return i.modelValue},set(t){b("update:modelValue",t)}}),k=x({get(){return i.logoError},set(t){b("update:logoError",t)}}),U=x({get(){return i.file},set(t){b("update:file",t)}}),E=async()=>{if(!a.value)return!1;const t=a.value.type.split("/").pop(),{data:{url:l,link:p,file:I,remove:A}}=await V.post(window.route("s3.sign",{disk:i.disk}),{ext:t,name:a.value.name,type:a.value.type});await V.put(l,a.value,{headers:{"x-amz-acl":"public-read","Content-Type":a.value.type},onUploadProgress:L,crossdomain:!0}),u.value=!1,w.value=p,U.value=I,s.value=A},M=new FileReader;M.onload=function(t){c.value=t.target.result};const B=async t=>{if(t.size>512e3)return k.value="Max 512Kb";if(!["image/jpeg","image/gif","image/png","image/svg+xml"].includes(t.type))return k.value="Unsupported";k.value=null,u.value=!0,a.value=t,i.auto&&E()};F(a,t=>{t?M.readAsDataURL(t):c.value=null});const _=m(!1),j=async()=>{_.value=!0,s.value&&await V.delete(s.value),c.value=null,a.value=null,w.value=null,g.value=0,_.value=!1},y=x(()=>w.value??c.value);return(t,l)=>(e(),o("div",J,[k.value?(e(),o("span",Y,C(k.value),1)):w.value?(e(),d(R,{key:1,text:y.value,after:""},{default:H(({copied:p})=>[p?(e(),d(f(Q),{key:0,class:"w-5 h-6"})):(e(),d(f(q),{key:1,class:"w-5 h-6"}))]),_:1},8,["text"])):P("",!0),r("div",ee,[(e(),o("svg",te,[l[3]||(l[3]=r("circle",{class:"text-gray-300","stroke-width":"5",stroke:"currentColor",fill:"transparent",r:"30",cx:"40",cy:"40"},null,-1)),r("circle",{class:"text-emerald-600 dark:text-emerald-400","stroke-width":"5","stroke-dasharray":h,"stroke-dashoffset":h-g.value/100*h,"stroke-linecap":"round",stroke:"currentColor",fill:"transparent",r:"30",cx:"40",cy:"40"},null,8,oe)])),r("label",{class:T([y.value?"":" bg-emerald-500 hover:bg-emerald-600  hover:shadow-emerald-500/50 focus:bg-emerald-600 active:bg-emerald-600/90","absolute btn h-9 w-9 rounded-full p-0 font-medium text-white hover:shadow-lg"])},[r("input",{tabindex:"-1",type:"file",onInput:l[0]||(l[0]=p=>B(p.target.files[0])),class:"pointer-events-none absolute inset-0 h-full w-full opacity-0"},null,32),y.value?(e(),o("img",{key:0,class:"w-9 h-9 rounded-full",src:y.value},null,8,ae)):(e(),d(f(W),{key:1,class:"h-5 w-5"}))],2)]),w.value?(e(),o("button",{key:2,onClick:l[1]||(l[1]=S(p=>j(),["prevent"])),class:"btn space-x-2 bg-error text-base py-1.5 font-medium text-white hover:bg-error hover:shadow-lg hover:shadow-error/50 focus:bg-error focus:shadow-lg focus:shadow-error/50 active:bg-error/90"},[l[4]||(l[4]=r("span",null,"Delete",-1)),_.value?(e(),d($,{key:0,class:"w-4 h-4 text-white ml-2 -mr-1"})):(e(),d(f(Z),{key:1,class:"w-4 h-4 text-white ml-2 -mr-1"}))])):a.value?(e(),o("button",{key:3,onClick:l[2]||(l[2]=S(p=>E(),["prevent"])),disabled:u.value,class:"btn space-x-2 bg-info text-base py-1.5 font-medium text-white hover:bg-info hover:shadow-lg hover:shadow-info/50 focus:bg-info focus:shadow-lg focus:shadow-info/50 active:bg-info/90"},[u.value?(e(),o("span",le,"Uploading")):(e(),o("span",re,"Upload")),u.value?(e(),d($,{key:2})):(e(),d(f(G),{key:3,class:"h-6 w-6"}))],8,se)):P("",!0)]))}},ne={class:"flex items-center"},ie={key:0,class:"text-sm mb-4 ml-4 font-medium text-red"},ue={key:1,class:"text-sm mb-4 ml-4 font-medium text-gray-900 dark:text-gray-300"},he={__name:"LogoInputLocal",props:{modelValue:String,file:Object,errors:String,label:String},emits:["update:modelValue","update:file"],setup(n,{emit:v}){const i=v,h=O(X,K),a=z({url:"/filepond/api",process:"/process",revert:"/process",patch:"?patch=",headers:{"X-CSRF-TOKEN":x(()=>D().props.csrf_token)}}),c=m(null),g=(u,s)=>{u&&(c.value=u),console.log(s),i("update:file",{serverId:s.serverId,fileExtension:s.fileExtension,fileType:s.fileType,filenameWithoutExtension:s.filenameWithoutExtension,id:s.id}),i("update:modelValue",s.filename)};return(u,s)=>(e(),o("div",ne,[r("div",null,[N(f(h),{name:"filepond",ref:"pond","class-name":"logo filepond fp-bordered label-icon w-20 ","label-idle":"Upload Logo","allow-multiple":!1,allowImagePreview:!0,stylePanelAspectRatio:"1:1",stylePanelLayout:"compact circle",labelIdle:`<svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6' fill='none' viewbox='0 0 24 24' stroke='currentColor'>
                                      <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12'></path>
                                    </svg>`,"accepted-file-types":"image/jpeg, image/png, image/svg+xml",server:a,onProcessfile:g},null,8,["server"])]),n.errors||c.value?(e(),o("p",ie,C(n.errors??c.value),1)):n.label?(e(),o("p",ue,C(n.label),1)):P("",!0)]))}};export{fe as _,he as a};
