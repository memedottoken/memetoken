import{T,r as B,q as y,d as p,e as s,w as d,F as v,o as m,f as a,u as e,i as u,t as l,y as D,x as k,C as j,B as f,V as x,W as V,A,l as H}from"./vue-i18n-locales.generated-DazkPcQT.js";import{U as w}from"./index-BDLqQZ5E.js";import{a as L}from"./index-CN8_XXnm.js";import{u as $,_ as q,a as E,D as U}from"./FileUploaderLocal-Pz-4DV2Y.js";import{_ as g}from"./BaseButton-BhZf0EJx.js";import{_ as b}from"./FormInput-DeHhKyjW.js";import{_ as P}from"./FormLabel-nvijsUf2.js";import{_ as F}from"./FormSwitch-C28q73Dg.js";import{L as I}from"./Loading-C3NjX0uh.js";import{f as M}from"./no-image-available-icon-Bm4PwHNs.js";import{_ as O}from"./VueIcon-CCuXL77h.js";import{_ as W}from"./AdminLayout-9uEzs08X.js";import"./index-DIGSHX2e.js";import"./index-CxlER5gv.js";import"./popper-BQBsAJpH.js";import"./XMarkIcon-DB3lTRzz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B8_82Uto.js";import"./ResponsiveNavLink-O5lN7zyX.js";import"./Web3Auth-Dlv52QEo.js";import"./wagmi-CDY-DwX3.js";import"./sepolia-CvxlrZeJ.js";import"./blast-BTKMzCxo.js";import"./inherits_browser-BlS1d2rD.js";import"./SecondaryButton-CNsTjGHd.js";import"./PrimaryButton-CA1FRb4P.js";import"./useAccount-CGBMXWeW.js";import"./useConfig-BkRNL90S.js";import"./plugin-DEBxRKPP.js";import"./utils-DNJjGCm9.js";import"./createLucideIcon-C3-ZXal3.js";const z={class:"h-full container sm:p-8"},G={class:"relative h-full flex flex-auto flex-col px-4 sm:px-6 py-12 sm:py-6 md:px-8"},J={class:"flex flex-col gap-4 h-full"},K={class:"lg:flex items-center justify-between mb-4 gap-3"},Q={class:"flex flex-col lg:flex-row lg:items-center gap-3"},R={class:"card sm:p-12 h-full border-0 card-border"},X={class:"card-body card-gutterless h-full"},Y={class:"grid"},Z={class:"gap-3 grid"},ee={class:"flex"},oe={class:"mr-3"},te={class:"inline-flex items-center space-x-2"},ae=["src"],re={key:0,class:"text-red-500"},se={key:1,class:"text-xs"},le=["value"],ie={key:0,class:"text-red-500"},de={class:"text-sx font-semibold text-emerald-500"},me=["value"],ne={key:0,class:"text-red-500"},pe={class:"text-sx font-semibold text-emerald-500"},ue={class:"pt-5 col-span-2"},fe={class:"flex items-center gap-3 justify-end p-4 mb-3 bg-emerald-600/10 text-emerald-400"},ce={class:"flex items-center gap-3 justify-end"},Ge={__name:"Edit",props:{title:{required:!1,type:String},promo:{type:Object,required:!0}},setup(h){const n=h,o=T({name:n.promo.name,image:n.promo.image,url:n.promo.url,starts_at:n.promo.starts_at,ends_at:n.promo.ends_at,active:n.promo.active,image_uri:null,image_path:null,image_upload:!1}),c=B($()),S=()=>o.put(window.route("admin.promos.update",n.promo.id),{preserveScroll:!0,preserveState:!0,onFinish(){c.value=$()}});return(i,r)=>{const C=y("Head"),N=y("CollapseTransition");return m(),p(v,null,[s(C,{title:h.title??"New Promo"},null,8,["title"]),s(W,null,{default:d(()=>[a("main",z,[a("div",G,[a("div",J,[a("div",K,[r[12]||(r[12]=a("div",{class:"mb-4 lg:mb-0"},[a("h3",{class:"h3"},"Add New Promo Image"),a("p",null," Promotions images are displayed via random rotation in the index page header ")],-1)),a("div",Q,[s(g,{secondary:"",link:"",href:i.route("admin.promos.index")},{default:d(()=>[s(O,{icon:e(L),class:"w-4 h-4 -ml-1 mr-2 inline-block"},null,8,["icon"]),u(" "+l(i.$t("Back to promos list")),1)]),_:1},8,["href"])])]),a("div",R,[a("div",X,[a("form",{class:"grid sm:grid-cols-2 gap-4",onSubmit:r[11]||(r[11]=D(t=>S(),["prevent"]))},[a("div",Y,[a("div",Z,[s(b,{modelValue:e(o).image_uri,"onUpdate:modelValue":r[1]||(r[1]=t=>e(o).image_uri=t),disabled:e(o).image_upload,placeholder:"https://",error:e(o).errors.image_uri,help:i.$t("Supports png, jpeg or svg")},{label:d(()=>[a("div",ee,[a("span",oe,l(i.$t("Image")),1),a("label",te,[k(a("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>e(o).image_upload=t),class:"form-switch h-5 w-10 rounded-full bg-slate-300 before:rounded-full before:bg-slate-50 checked:!bg-emerald-600 checked:before:bg-white dark:bg-navy-900 dark:before:bg-navy-300 dark:checked:before:bg-white",type:"checkbox"},null,512),[[j,e(o).image_upload]]),a("span",null,l(i.$t("Upload to server")),1)])])]),_:1},8,["modelValue","disabled","error","help"]),e(o).image_upload?(m(),p(v,{key:0},[i.$page.props.s3?(m(),f(q,{modelValue:e(o).image_uri,"onUpdate:modelValue":r[2]||(r[2]=t=>e(o).image_uri=t),file:e(o).image_path,"onUpdate:file":r[3]||(r[3]=t=>e(o).image_path=t),key:c.value,auto:""},null,8,["modelValue","file"])):(m(),f(E,{key:`u-${c.value}`,modelValue:e(o).image_uri,"onUpdate:modelValue":r[4]||(r[4]=t=>e(o).image_uri=t),file:e(o).image_path,"onUpdate:file":r[5]||(r[5]=t=>e(o).image_path=t)},null,8,["modelValue","file"]))],64)):(m(),p("img",{key:1,class:"w-auto h-24 my-auto rounded b-0",src:e(o).image_uri??e(o).image??e(M)},null,8,ae))]),e(o).errors.image?(m(),p("p",re,l(e(o).errors.image),1)):(m(),p("p",se,l(i.$t("")),1))]),s(b,{label:"Promo Name",modelValue:e(o).name,"onUpdate:modelValue":r[6]||(r[6]=t=>e(o).name=t),class:"col-span-2 max-w-xs",type:"text",error:e(o).errors.name},null,8,["modelValue","error"]),s(b,{label:"Promotion Url",modelValue:e(o).url,"onUpdate:modelValue":r[7]||(r[7]=t=>e(o).url=t),class:"col-span-2",type:"text",error:e(o).errors.url},null,8,["modelValue","error"]),a("div",null,[s(P,{class:"mb-1"},{default:d(()=>[u(l(i.$t("Date & time")),1)]),_:1}),s(e(U),{modelValue:e(o).starts_at,"onUpdate:modelValue":r[8]||(r[8]=t=>e(o).starts_at=t),mode:"dateTime","is-dark":"",is24hr:""},{default:d(({inputValue:t,inputEvents:_})=>[a("input",x({class:"bg-white border-gray-300 text-gray-900 rounded-sm focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-900 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white border block w-full focus:outline-none focus:ring-1 appearance-none py-2 text-sm pl-2 pr-2",value:t},V(_,!0)),null,16,le)]),_:1},8,["modelValue"]),e(o).errors.starts_at?(m(),p("p",ie,l(e(o).errors.starts_at),1)):(m(),f(e(w),{key:1,time:e(o).starts_at},{default:d(({timeAgo:t})=>[a("p",de,l(t),1)]),_:1},8,["time"]))]),a("div",null,[s(P,{class:"mb-1"},{default:d(()=>[u(l(i.$t("End Date & time")),1)]),_:1}),s(e(U),{modelValue:e(o).ends_at,"onUpdate:modelValue":r[9]||(r[9]=t=>e(o).ends_at=t),mode:"dateTime","is-dark":"",is24hr:""},{default:d(({inputValue:t,inputEvents:_})=>[a("input",x({class:"bg-white border-gray-300 text-gray-900 rounded-sm focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-900 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white border block w-full focus:outline-none focus:ring-1 appearance-none py-2 text-sm pl-2 pr-2",value:t},V(_,!0)),null,16,me)]),_:1},8,["modelValue"]),e(o).errors.ends_at?(m(),p("p",ne,l(e(o).errors.ends_at),1)):(m(),f(e(w),{key:1,time:e(o).ends_at},{default:d(({timeAgo:t})=>[a("p",pe,l(t),1)]),_:1},8,["time"]))]),s(F,{modelValue:e(o).active,"onUpdate:modelValue":r[10]||(r[10]=t=>e(o).active=t)},{default:d(()=>[u(l(i.$t("Active")),1)]),_:1},8,["modelValue"]),a("div",ue,[s(N,null,{default:d(()=>[k(a("div",fe," Promo updated successfully ",512),[[A,e(o).recentlySuccessful]])]),_:1}),a("div",ce,[s(g,{secondary:"",as:"button",href:i.route("admin.promos.index"),type:"button",link:""},{default:d(()=>[u(l(i.$t("Cancel")),1)]),_:1},8,["href"]),s(g,{type:"submit",disabled:e(o).processing},{default:d(()=>[e(o).processing?(m(),f(I,{key:0,class:"mr-2 -ml-1 inline-block w-5 h-5"})):H("",!0),u(" "+l(i.$t("Save Promo")),1)]),_:1},8,["disabled"])])])],32)])])])])])]),_:1})],64)}}};export{Ge as default};
