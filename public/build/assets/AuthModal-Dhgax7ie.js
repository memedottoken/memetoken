import{o,B as v,w as a,U as V,Y as N,$ as T,u as e,D as F,e as s,V as j,f as k,d as p,P as L,O as I,r as B,T as $,s as R,l as h,t as w,i as S,y as Y,a7 as z,z as Z}from"./vue-i18n-locales.generated-DazkPcQT.js";import{_ as H}from"./ApplicationLogo-B8_82Uto.js";import{_ as K}from"./CollapseTransition-CDDa1-2u.js";import{_ as C}from"./FormInput-DeHhKyjW.js";import{L as Q}from"./Loading-C3NjX0uh.js";import{_ as O}from"./PrimaryButton-CA1FRb4P.js";import{x as P,Z as X,_ as G,C as J,U as W,a as ee}from"./index-Bxa4ZcRK.js";import{c as U}from"./utils-CytzSlOG.js";import{X as te}from"./x-CXg0Fv3A.js";import se from"./OtpInput-CSsbsk_K.js";import{j as ae}from"./index-CxlER5gv.js";import{U as oe}from"./user-vnz2Z5Ih.js";import{c as re}from"./createLucideIcon-C3-ZXal3.js";/**
 * @license lucide-vue-next v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=re("MailIcon",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ne={__name:"Dialog",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(d,{emit:i}){const c=P(d,i);return(f,y)=>(o(),v(e(X),N(T(e(c))),{default:a(()=>[V(f.$slots,"default")]),_:3},16))}},de={__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(d,{emit:i}){const l=d,u=i,c=F(()=>{const{class:y,..._}=l;return _}),f=P(c,u);return(y,_)=>(o(),v(e(ee),null,{default:a(()=>[s(e(G),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),s(e(J),j(e(f),{class:e(U)("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-gray-700 dark:bg-gray-850",l.class)}),{default:a(()=>[V(y.$slots,"default"),s(e(W),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500 dark:ring-offset-gray-950 dark:focus:ring-gray-300 dark:data-[state=open]:bg-gray-800 dark:data-[state=open]:text-gray-400"},{default:a(()=>[s(e(te),{class:"w-4 h-4 text-white"}),_[0]||(_[0]=k("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}},ie={__name:"DialogHeader",props:{class:{type:null,required:!1}},setup(d){const i=d;return(l,u)=>(o(),p("div",{class:L(e(U)("flex flex-col gap-y-1.5 text-center sm:text-left",i.class))},[V(l.$slots,"default")],2))}},ue={key:0},me={key:0,class:"text-red-500 mb-4"},pe={key:1},ce={key:0,class:"!text-red-500 text-sm mt-2"},fe={key:2},ye={key:0,class:"text-emerald-400 font-semibold text-sm py-3"},_e={class:"flex gap-3 justify-end mt-6"},ge={__name:"AuthModal",props:{show:Boolean},emits:["update:show"],setup(d,{emit:i}){const{counter:l,reset:u,pause:c,resume:f,isActive:y}=ae(1e3,{controls:!0});c(),I(l,r=>{r===60&&(c(),u())});const _=i,g=F(()=>{var r,t;return!!((r=z().props.auth.user)!=null&&r.email)&&!((t=z().props.auth.user)!=null&&t.email_verified_at)}),q=B(""),A=B(!1),x=$({}),m=$({email:null,name:null,to:window.location.pathname}),D=async()=>{x.post(window.route("otp.resend"),{preserveScroll:!0,preserveState:!0,onFinish(){u(),f()}})},E=async()=>{m.post(window.route("otp.send"),{preserveScroll:!0,preserveState:!0,onFinish(){u(),f()}})},b=$({otp:""}),M=async()=>{console.log("hehehehhe"),b.post(window.route("modal.verify"),{preserveState:!0,preserveScroll:!0,onSuccess(){_("update:show",!1),Z.reload()}})};return(r,t)=>(o(),v(e(ne),{open:d.show,"onUpdate:open":t[4]||(t[4]=n=>r.$emit("update:show",n))},{default:a(()=>[s(e(de),{class:"sm:max-w-[425px]"},{default:a(()=>[s(e(ie),null,{default:a(()=>[s(e(R),{class:"flex mb-4 items-center",href:"/"},{default:a(()=>[s(H,{class:"block h-8 w-auto font-semibold"})]),_:1}),t[5]||(t[5]=k("h3",{class:"text-2xl"},"Connect email address",-1)),g.value?(o(),p("p",ue," A code was sent to your email, Enter it below ")):h("",!0)]),_:1}),k("form",{onSubmit:t[3]||(t[3]=Y(n=>g.value?M():E(),["prevent"]))},[q.value?(o(),p("div",me,w(q.value),1)):h("",!0),g.value?(o(),p("div",pe,[s(se,{modelValue:e(b).otp,"onUpdate:modelValue":t[0]||(t[0]=n=>e(b).otp=n),length:6},null,8,["modelValue"]),e(b).errors.otp?(o(),p("p",ce,w(e(b).errors.otp),1)):h("",!0)])):(o(),p("div",fe,[s(C,{class:"mt-1 block w-full",placeholder:"Your Full Name",modelValue:e(m).name,"onUpdate:modelValue":t[1]||(t[1]=n=>e(m).name=n),error:e(m).errors.name,required:"",type:"text",size:"md",autocomplete:"name"},{lead:a(()=>[s(e(oe),{class:"w-4 h-4 ml-1 text-white"})]),_:1},8,["modelValue","error"]),s(C,{class:"mt-1 block w-full",placeholder:"Email",label:g.value?"Verify OTP":"Enter Email Address",modelValue:e(m).email,"onUpdate:modelValue":t[2]||(t[2]=n=>e(m).email=n),error:e(m).errors.email,required:"",autofocus:"",type:"email",size:"md",autocomplete:"username"},{lead:a(()=>[s(e(le),{class:"w-4 h-4 ml-1 text-white"})]),_:1},8,["label","modelValue","error"])])),s(K,null,{default:a(()=>[e(x).recentlySuccessful?(o(),p("div",ye,w(r.$t("Code resent successfully !")),1)):h("",!0)]),_:1}),k("div",_e,[g.value?(o(),v(O,{key:0,size:"sm",outlined:"",onClick:D,type:"button",disabled:e(x).processing||e(y)},{default:a(()=>[e(x).processing?(o(),v(Q,{key:0,class:"!w-5 !h-5 mr-2 -ml-1"})):h("",!0),S(" "+w(r.$t("Resend"))+" "+w(e(y)?`in ${60-e(l)}s`:""),1)]),_:1},8,["disabled"])):h("",!0),s(O,{type:"submit",class:"w-full",size:"lg",disabled:A.value},{default:a(()=>[S(w(g.value?r.$t("Verify"):r.$t("Continue")),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1},8,["open"]))}},Oe=Object.freeze(Object.defineProperty({__proto__:null,default:ge},Symbol.toStringTag,{value:"Module"}));export{Oe as A,ge as _,de as a,ne as b};
