import{T as P,r as S,q as C,d as n,e as s,w as d,F as b,o as m,f as r,u as e,i as u,t as l,y as N,x as B,C as D,B as p,V as h,W as y,l as T}from"./vue-i18n-locales.generated-DazkPcQT.js";import{U as k}from"./index-BDLqQZ5E.js";import{a as A}from"./index-CN8_XXnm.js";import{u as v,_ as H,a as L,D as x}from"./FileUploaderLocal-Pz-4DV2Y.js";import{_}from"./BaseButton-BhZf0EJx.js";import{_ as g}from"./FormInput-DeHhKyjW.js";import{_ as V}from"./FormLabel-nvijsUf2.js";import{_ as j}from"./FormSwitch-C28q73Dg.js";import{L as F}from"./Loading-C3NjX0uh.js";import{f as I}from"./no-image-available-icon-Bm4PwHNs.js";import{_ as q}from"./VueIcon-CCuXL77h.js";import{_ as E}from"./AdminLayout-9uEzs08X.js";import"./index-DIGSHX2e.js";import"./index-CxlER5gv.js";import"./popper-BQBsAJpH.js";import"./XMarkIcon-DB3lTRzz.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B8_82Uto.js";import"./ResponsiveNavLink-O5lN7zyX.js";import"./Web3Auth-Dlv52QEo.js";import"./wagmi-CDY-DwX3.js";import"./sepolia-CvxlrZeJ.js";import"./blast-BTKMzCxo.js";import"./inherits_browser-BlS1d2rD.js";import"./SecondaryButton-CNsTjGHd.js";import"./PrimaryButton-CA1FRb4P.js";import"./useAccount-CGBMXWeW.js";import"./useConfig-BkRNL90S.js";import"./plugin-DEBxRKPP.js";import"./utils-DNJjGCm9.js";import"./createLucideIcon-C3-ZXal3.js";const M={class:"h-full container sm:p-8"},W={class:"relative h-full flex flex-auto flex-col px-4 sm:px-6 py-12 sm:py-6 md:px-8"},z={class:"flex flex-col gap-4 h-full"},G={class:"lg:flex items-center justify-between mb-4 gap-3"},J={class:"flex flex-col lg:flex-row lg:items-center gap-3"},K={class:"card sm:p-12 h-full border-0 card-border"},O={class:"card-body card-gutterless h-full"},Q={class:"grid"},R={class:"gap-3 grid"},X={class:"flex"},Y={class:"mr-3"},Z={class:"inline-flex items-center space-x-2"},ee=["src"],oe={key:0,class:"text-red-500"},te={key:1,class:"text-xs"},ae=["value"],re={key:0,class:"text-red-500"},se={class:"text-sx font-semibold text-emerald-500"},le=["value"],ie={key:0,class:"text-red-500"},de={class:"text-sx font-semibold text-emerald-500"},me={class:"pt-5"},ne={class:"flex items-center gap-3 justify-end"},Me={__name:"Create",props:{title:{required:!1,type:String}},setup(w){const o=P({name:"",image:"",url:"",starts_at:"",ends_at:"",active:!0,image_uri:null,image_path:null,image_upload:!0}),f=S(v()),$=()=>o.post(window.route("admin.promos.store"),{preserveScroll:!0,preserveState:!0,onFinish(){f.value=v()},onSuccess(){o.reset()}});return(i,a)=>{const U=C("Head");return m(),n(b,null,[s(U,{title:w.title??"New Promo"},null,8,["title"]),s(E,null,{default:d(()=>[r("main",M,[r("div",W,[r("div",z,[r("div",G,[a[12]||(a[12]=r("div",{class:"mb-4 lg:mb-0"},[r("h3",{class:"h3"},"Add New Promo Image"),r("p",null," Promotions images are displayed via random rotation in the index page header ")],-1)),r("div",J,[s(_,{secondary:"",link:"",href:i.route("admin.promos.index")},{default:d(()=>[s(q,{icon:e(A),class:"w-4 h-4 -ml-1 mr-2 inline-block"},null,8,["icon"]),u(" "+l(i.$t("Back to promos list")),1)]),_:1},8,["href"])])]),r("div",K,[r("div",O,[r("form",{class:"grid sm:grid-cols-2 gap-4",onSubmit:a[11]||(a[11]=N(t=>$(),["prevent"]))},[r("div",Q,[r("div",R,[s(g,{modelValue:e(o).image_uri,"onUpdate:modelValue":a[1]||(a[1]=t=>e(o).image_uri=t),disabled:e(o).image_upload,placeholder:"https://",error:e(o).errors.image_uri,help:i.$t("Supports png, jpeg or svg")},{label:d(()=>[r("div",X,[r("span",Y,l(i.$t("Image")),1),r("label",Z,[B(r("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>e(o).image_upload=t),class:"form-switch h-5 w-10 rounded-full bg-slate-300 before:rounded-full before:bg-slate-50 checked:!bg-emerald-600 checked:before:bg-white dark:bg-navy-900 dark:before:bg-navy-300 dark:checked:before:bg-white",type:"checkbox"},null,512),[[D,e(o).image_upload]]),r("span",null,l(i.$t("Upload to server")),1)])])]),_:1},8,["modelValue","disabled","error","help"]),e(o).image_upload?(m(),n(b,{key:0},[i.$page.props.s3?(m(),p(H,{modelValue:e(o).image_uri,"onUpdate:modelValue":a[2]||(a[2]=t=>e(o).image_uri=t),file:e(o).image_path,"onUpdate:file":a[3]||(a[3]=t=>e(o).image_path=t),key:f.value,class:"min-h-[200px]",auto:""},null,8,["modelValue","file"])):(m(),p(L,{key:`u-${f.value}`,modelValue:e(o).image_uri,"onUpdate:modelValue":a[4]||(a[4]=t=>e(o).image_uri=t),file:e(o).image_path,"onUpdate:file":a[5]||(a[5]=t=>e(o).image_path=t)},null,8,["modelValue","file"]))],64)):(m(),n("img",{key:1,class:"w-auto h-24 my-auto rounded b-0",src:e(o).image_uri??e(I)},null,8,ee))]),e(o).errors.image?(m(),n("p",oe,l(e(o).errors.image),1)):(m(),n("p",te,l(i.$t("")),1))]),s(g,{label:"Promo Name",modelValue:e(o).name,"onUpdate:modelValue":a[6]||(a[6]=t=>e(o).name=t),class:"col-span-2 max-w-xs",type:"text",error:e(o).errors.name},null,8,["modelValue","error"]),s(g,{label:"Promotion Url",modelValue:e(o).url,"onUpdate:modelValue":a[7]||(a[7]=t=>e(o).url=t),class:"col-span-2",type:"text",error:e(o).errors.url},null,8,["modelValue","error"]),r("div",null,[s(V,{class:"mb-1"},{default:d(()=>[u(l(i.$t("Date & time")),1)]),_:1}),s(e(x),{modelValue:e(o).starts_at,"onUpdate:modelValue":a[8]||(a[8]=t=>e(o).starts_at=t),mode:"dateTime","is-dark":"",is24hr:""},{default:d(({inputValue:t,inputEvents:c})=>[r("input",h({class:"bg-white border-gray-300 text-gray-900 rounded-sm focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-900 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white border block w-full focus:outline-none focus:ring-1 appearance-none py-2 text-sm pl-2 pr-2",value:t},y(c,!0)),null,16,ae)]),_:1},8,["modelValue"]),e(o).errors.starts_at?(m(),n("p",re,l(e(o).errors.starts_at),1)):(m(),p(e(k),{key:1,time:e(o).starts_at},{default:d(({timeAgo:t})=>[r("p",se,l(t),1)]),_:1},8,["time"]))]),r("div",null,[s(V,{class:"mb-1"},{default:d(()=>[u(l(i.$t("End Date & time")),1)]),_:1}),s(e(x),{modelValue:e(o).ends_at,"onUpdate:modelValue":a[9]||(a[9]=t=>e(o).ends_at=t),mode:"dateTime","is-dark":"",is24hr:""},{default:d(({inputValue:t,inputEvents:c})=>[r("input",h({class:"bg-white border-gray-300 text-gray-900 rounded-sm focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-900 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white border block w-full focus:outline-none focus:ring-1 appearance-none py-2 text-sm pl-2 pr-2",value:t},y(c,!0)),null,16,le)]),_:1},8,["modelValue"]),e(o).errors.ends_at?(m(),n("p",ie,l(e(o).errors.ends_at),1)):(m(),p(e(k),{key:1,time:e(o).ends_at},{default:d(({timeAgo:t})=>[r("p",de,l(t),1)]),_:1},8,["time"]))]),s(j,{modelValue:e(o).active,"onUpdate:modelValue":a[10]||(a[10]=t=>e(o).active=t)},{default:d(()=>[u(l(i.$t("Active")),1)]),_:1},8,["modelValue"]),r("div",me,[r("div",ne,[s(_,{secondary:"",as:"button",href:i.route("admin.promos.index"),type:"button",link:""},{default:d(()=>[u(l(i.$t("Cancel")),1)]),_:1},8,["href"]),s(_,{type:"submit",disabled:e(o).processing},{default:d(()=>[e(o).processing?(m(),p(F,{key:0,class:"mr-2 -ml-1 inline-block w-5 h-5"})):T("",!0),u(" "+l(i.$t("Save Promo")),1)]),_:1},8,["disabled"])])])],32)])])])])])]),_:1})],64)}}};export{Me as default};
