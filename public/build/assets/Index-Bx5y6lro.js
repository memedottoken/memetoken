import{r as x,T as S,d as f,e as a,u as n,w as i,F as g,z as v,o as m,Z as P,f as e,t as s,i as d,g as V,s as B,y as D,B as y,l as w,P as N}from"./vue-i18n-locales.generated-DazkPcQT.js";import{u as A}from"./index-DIGSHX2e.js";import{e as F,d as I}from"./index-CN8_XXnm.js";import{_}from"./BaseButton-BhZf0EJx.js";import{_ as T,a as U}from"./SearchInput-CUZhLIeC.js";import{_ as j}from"./FormSwitch-C28q73Dg.js";import{L}from"./Loading-C3NjX0uh.js";import{_ as W}from"./Pagination-CdQ4VaGP.js";import{_ as z}from"./PrimaryButton-CA1FRb4P.js";import{_ as b}from"./VueIcon-CCuXL77h.js";import{W as E}from"./WeCopy-BxL-ACh3.js";import{_ as H}from"./AdminLayout-9uEzs08X.js";import{t as M}from"./wagmi-CDY-DwX3.js";import{P as q}from"./plus-DL1VHakh.js";import{w as O}from"./index-CxlER5gv.js";import"./Modal-pUJPYwWV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-B8_82Uto.js";import"./ResponsiveNavLink-O5lN7zyX.js";import"./Web3Auth-Dlv52QEo.js";import"./inherits_browser-BlS1d2rD.js";import"./SecondaryButton-CNsTjGHd.js";import"./sepolia-CvxlrZeJ.js";import"./blast-BTKMzCxo.js";import"./useAccount-CGBMXWeW.js";import"./useConfig-BkRNL90S.js";import"./plugin-DEBxRKPP.js";import"./utils-DNJjGCm9.js";import"./createLucideIcon-C3-ZXal3.js";const R={class:"h-full"},Z={class:"relative h-full flex flex-auto flex-col px-4 sm:px-6 py-12 sm:py-6 md:px-8"},G={class:"flex flex-col gap-4 h-full"},J={class:"lg:flex items-center justify-between mb-4 gap-3"},K={class:"mb-4 lg:mb-0"},Q={class:"h3"},X={class:"flex flex-col lg:flex-row lg:items-center gap-3"},Y={class:"card border-0 card-border"},ee={class:"card-body card-gutterless h-full"},te={class:"lg:flex items-center justify-end mb-4 px-6"},se={class:"flex gap-x-3 sm:w-1/2 lg:w-1/4"},oe={class:"overflow-x-auto"},ae={class:"table-default table-hover",role:"table"},le={role:"row"},re={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ie={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ne={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},de={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},me={scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},ce={role:"rowgroup"},ue={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-300"},pe={class:"flex items-start gap-3"},fe=["src"],_e={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-300"},he={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-300"},xe={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-300"},ge={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-300"},ve={role:"cell"},ye={class:"flex justify-end text-lg"},we=["onClick"],Qe={__name:"Index",props:{promos:Object,title:{required:!1,type:String}},setup(c){const $=A("history"),u=x($.search??""),p=S({}),l=x(null),k=()=>{var t;p.delete(window.route("admin.promos.destroy",(t=l.value)==null?void 0:t.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>l.value=null})};O([u],([t])=>{v.get(window.route("admin.promos.index"),{search:t},{preserveState:!0,preserveScroll:!0})},{maxWait:700});const h=t=>{t.busy=!0,v.put(window.route("admin.promos.toggle",t.id),{},{preserveScroll:!0,preserveState:!0,onFinish:()=>{t.busy=!1,l.value=null}})};return(t,r)=>(m(),f(g,null,[a(n(P),{title:c.title??"Promos"},null,8,["title"]),a(H,null,{default:i(()=>[e("main",R,[e("div",Z,[e("div",G,[e("div",J,[e("div",K,[e("h3",Q,s(t.$t("Manage Image Promotions")),1),e("p",null,s(t.$t("Image promos are rotated on the landing page")),1)]),e("div",X,[a(z,{secondary:"",link:"",href:t.route("admin.promos.create")},{default:i(()=>[a(n(q),{class:"w-4 h-4 mr-1 -ml-1 inline-flex"}),d(" "+s(t.$t("Create New Promo")),1)]),_:1},8,["href"])])]),e("div",Y,[e("div",ee,[e("div",te,[e("div",se,[a(T,{class:"max-w-md",modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=o=>u.value=o)},null,8,["modelValue"])])]),e("div",null,[e("div",oe,[e("table",ae,[e("thead",null,[e("tr",le,[e("th",re,s(t.$t("Name")),1),e("th",ie,s(t.$t("Url")),1),e("th",ne,s(t.$t("Starts At")),1),e("th",de,s(t.$t("Ends At")),1),e("th",me,s(t.$t("Active")),1),r[4]||(r[4]=e("td",{role:"columnheader"},null,-1))])]),e("tbody",ce,[(m(!0),f(g,null,V(c.promos.data,o=>(m(),f("tr",{key:o.id,role:"row"},[e("td",ue,[e("div",pe,[e("img",{class:"w-auto h-12 rounded border border-gray-700",src:o.image},null,8,fe),e("div",null,s(o.name),1)])]),e("td",_e,[a(E,{text:o.url,after:""},{default:i(()=>[d(s(n(M)(o.url,16)),1)]),_:2},1032,["text"])]),e("td",he,s(o.starts_at),1),e("td",xe,s(o.ends_at),1),e("td",ge,[a(j,{"model-value":o.active,"onUpdate:modelValue":C=>h(o)},null,8,["model-value","onUpdate:modelValue"])]),e("td",ve,[e("div",ye,[a(n(B),{href:t.route("admin.promos.edit",o.id),class:"cursor-pointer p-2 hover:text-blue-600"},{default:i(()=>[a(b,{icon:n(F),class:"w-4 h-4"},null,8,["icon"])]),_:2},1032,["href"]),e("a",{href:"#",onClick:D(C=>l.value=o,["prevent"]),class:"cursor-pointer p-2 hover:text-red-500"},[a(b,{icon:n(I),class:"w-4 h-4"},null,8,["icon"])],8,we)])])]))),128))])])]),a(W,{meta:c.promos.meta},null,8,["meta"])])])])])])]),a(U,{show:l.value,onClose:r[3]||(r[3]=o=>l.value=null)},{title:i(()=>[d(s(t.$t("Are you sure about deleting {promo} ?",{promo:l.value.name})),1)]),content:i(()=>[e("p",null,s(t.$t("This Action will remove the promo from the database and cannot be undone")),1),e("p",null,s(t.$t("Its Recommended to Disable the promo Instead")),1)]),footer:i(()=>[a(_,{secondary:"",outlined:"",class:"uppercase text-xs font-semibold",onClick:r[1]||(r[1]=o=>l.value=null)},{default:i(()=>[d(s(t.$t("Cancel")),1)]),_:1}),l.value.active?(m(),y(_,{key:0,secondary:"",class:"ml-2 uppercase text-xs font-semibold",onClick:r[2]||(r[2]=o=>h(l.value))},{default:i(()=>[l.value.busy?(m(),y(L,{key:0})):w("",!0),d(" "+s(t.$t("Disable")),1)]),_:1})):w("",!0),a(_,{danger:"",class:N(["ml-2 uppercase text-xs font-semibold",{"opacity-25":n(p).processing}]),onClick:k,disabled:n(p).processing},{default:i(()=>[d(s(t.$t("Delete")),1)]),_:1},8,["class","disabled"])]),_:1},8,["show"])]),_:1})],64))}};export{Qe as default};
